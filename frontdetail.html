<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fronDetail</title>
</head>
<style>
    body {
        margin: 0;
        padding: 0;

        display: flex;
        position: relative;

    }

    #modal {
        width: 100vw;
        height: 100vh;
        background-color: black;
        position: absolute;
        opacity: 55%;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid black;

        padding-top: 3em;
    }

    .sidebar {
        width: 40%;
        height: 100vh;
        background-color: #eee;
        border: 1px solid black;
        margin-right: .3em;
        border-radius: 1em;

    }

    ul li {
        list-style: none;
        margin: .5em;
        cursor: pointer;
        width: 10em;
    }

    .front {

        background-color: #eee;
        width: 100%;
        display: flex;
        justify-content: center;
        border: 1px solid black;
        border-radius: 1em;
        padding-top: 3em;
    }

    .a1 {
        display: flex;
        flex-direction: column;
    }

    .a2 {
        display: flex;
        background-color: whitesmoke;
        flex-direction: column;
        padding: 3em;

    }

    .a2 span {
        line-height: 2.2em;
    }

    .a2 input {
        width: 20em;
        margin: 0.52em;

    }

    .a1 span {
        line-height: 2.2em;
    }

    .a1 input {
        width: 20em;
        margin: 0.5em;

    }

    .p1 {
        border: 1px solid red;
        border-radius: .3em;
        background-color: #e9f3f3;

    }

    #l2 {
        width: 12em;
        height: 1.2em;
        background-color: white;
        border: 1px solid black;
    }

    #les {
        display: flex;
        align-items: center;
    }

    .t1 {
        background-color: red;
        margin: .5em;
        padding: 0.3em;
        border-radius: 0.5em;
    }

    #close {
        background-color: red;

        right: 1em;
        position: absolute;
        top: 0.5em;
    }

    #insert {
        background-color: red;
        padding: .5em;
        margin-bottom: .5em;
        position: absolute;
        bottom: 0;
        width: 10em;
        border-radius: 1em;
    }
</style>

<body>
    <div id="modal">
        <div class="center" style="display: flex;">
            <div class="a2" style="border-radius: .5em 0 0 .5em ;">
                <span>firstName</span>
                <span>lastName</span>
                <span>job</span>
                <span>year of birth</span>
                <span>code</span>

            </div>
            <div class="a2" style="position: relative;border-radius: 0 .5em .5em 0; ">
                <button id="close" onclick="closeModal()">X</button>
                <input type="text" id="fnModal" value="">
                <input type="text" id="lnModal" value="">
                <input type="text" id="jModal" value="">
                <input type="number" id="ybModal" value="">
                <input type="number" id="coModal" value="">
                <button id="insert" onclick="addStudent()">INSERT</button>
            </div>
        </div>
    </div>
    <div class="sidebar">
        <ul id="name">
            <li style="font-weight: bolder; text-align: center;">students Name</li>
        </ul>
        <button id="openModal" onclick="openModal()">add new stud</button>

    </div>
    <div class="front">
        <div class="a1">
            <span>firstName</span>
            <span>lastName</span>
            <span>job</span>
            <span>year of birth</span>
            <span>code</span>
        </div>
        <div class="a1">
            <input type="text" placeholder="" id="fname" value="">
            <input type="text" placeholder="" id="lname" value="">
            <input type="text" placeholder="" id="job" value="">
            <input type="text" placeholder="" id="dateBirth" value="">
            <input type="text" placeholder="" id="code" value="">
            <div id="lesson"></div>
        </div>

    </div>
</body>
<script>

    var students = [{ firstName: "ali", lastName: "ghaderian", age: 34, dateBirth: "1987", code: "0032244455", job: "disiner", lesson: ["HTML", "CSS"] },
    { firstName: "amir", lastName: "ghaderian", age: 35, dateBirth: "1986", code: "0081125674", job: "front", lesson: ["HTML", "CSS", "JS", "GIT"] },
    { firstName: "aida", lastName: "amiri", age: 20, dateBirth: "2001", code: "0032244455", job: "Airline employee", lesson: ["HTML", "CSS", "JS"] },
    { firstName: "houman", lastName: "ghaderian", age: 42, dateBirth: "1977", code: "0032244455", job: "CEO", lesson: ["PHP IT"] },
    { firstName: "hani", lastName: "ghaderian", age: 47, dateBirth: "1977", code: "32488488493", job: "teacher", lesson: ["language English"] }];



    for (j = 0; j < students.length; j++) {
        var ulName = document.getElementById("name");
        var liSet = document.createElement("li");


        ulName.appendChild(liSet);
        liSet.innerHTML = students[j].firstName + " __ " + students[j].lastName;
        liSet.setAttribute("onClick", 'loadStud(' + j + ')');
        liSet.setAttribute("id", 'lap' + j + ' ');
    }


    function loadStud(index) {

        for (i = 0; i < students.length; i++) {

            document.getElementById('lap' + i + ' ').classList.remove("p1");


        }

        document.getElementById('lap' + index + ' ').classList.add("p1");
        document.getElementById("fname").value = students[index].firstName;
        document.getElementById("lname").value = students[index].lastName;
        document.getElementById("job").value = students[index].job;
        document.getElementById("dateBirth").value = students[index].dateBirth;
        document.getElementById("code").value = students[index].code;

        var lesDiv = document.getElementById("lesson");

        lesDiv.innerHTML = '';

        for (k = 0; k < students[index].lesson.length; k++) {


            let span = document.createElement("span");
            span.className = "t1";
            span.innerHTML = students[index].lesson[k]
            lesDiv.appendChild(span);




        }
    }


    function addStudent() {
        closeModal();

        //get value in modal
        let family = document.getElementById("lnModal").value;
        let name = document.getElementById("fnModal").value;
        let jobM = document.getElementById("jModal").value;
        let yearM = document.getElementById("ybModal").value
        let codM = document.getElementById("coModal").value;
        ///// set in li
        var ulName = document.getElementById("name");
        var liSet = document.createElement("li");
        ulName.appendChild(liSet);
        liSet.innerHTML = name + "--" + family;
        ////vlue push to obj
        students.push({ firstName: name });
        students.push({ lastName: family });
        students.push({ job: jobM });
        students.push({ dateBirth: yearM });
        students.push({ code: codM });



    }

    function closeModal() {
        document.getElementById("modal").style.display = "none";
    }
    function openModal() {
        document.getElementById("modal").style.display = "";
    }





</script>

</html>